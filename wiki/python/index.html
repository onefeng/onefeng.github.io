<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>python &mdash; 晚风</title><link rel="stylesheet" href="https://onefeng.github.io/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://onefeng.github.io/assets/css/components/collection.css"><link rel="stylesheet" href="https://onefeng.github.io/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://onefeng.github.io/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://onefeng.github.io/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://onefeng.github.io/assets/css/globals/common.css"><link rel="stylesheet" href="https://onefeng.github.io/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://onefeng.github.io/assets/css/posts/index.css"><link rel="stylesheet" href="https://onefeng.github.io/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://onefeng.github.io/assets/css/globals/github.css"><link href="https://cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.css" rel="stylesheet" /><link rel="canonical" href="https://onefeng.github.io/wiki/python/"><link rel="alternate" type="application/atom+xml" title="晚风" href="https://onefeng.github.io/feed.xml"><link rel="shortcut icon" href="https://onefeng.github.io/favicon.ico"><meta property="og:title" content="python"><meta name="keywords" content="python"><meta name="og:keywords" content="python"><meta name="description" content="python基础"><meta name="og:description" content="python基础"><meta property="og:url" content="https://onefeng.github.io/wiki/python/"><meta property="og:site_name" content="晚风"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2022-11-28"> <script src="https://onefeng.github.io/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://onefeng.github.io/assets/js/jquery-ui.js"></script> <script src="https://onefeng.github.io/assets/js/main.js"></script></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1><a href="https://onefeng.github.io/" title="晚风"><span class="octicon octicon-mark-github"></span> 晚风</a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="https://onefeng.github.io/" class=" site-header-nav-item" target="" title="首页">首页</a> <a href="https://onefeng.github.io/tags/" class=" site-header-nav-item" target="" title="标签">标签</a> <a href="https://onefeng.github.io/categories/" class=" site-header-nav-item" target="" title="分类">分类</a> <a href="https://onefeng.github.io/archives/" class=" site-header-nav-item" target="" title="归档">归档</a> <a href="https://onefeng.github.io/wiki/" class=" site-header-nav-item" target="" title="维基">维基</a> <a href="https://onefeng.github.io/about/" class=" site-header-nav-item" target="" title="关于">关于</a></nav></div></header><section class="collection-head small geopattern" data-pattern-id="python"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">python</h1></div></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><p>python基础</p><h2 id="基础语法">基础语法</h2><ul><li><p>标准数据类型</p></li><li><p>条件判断</p></li><li><p>循环</p></li><li><p>函数</p></li><li><p>类</p></li></ul><h2 id="re正则模块">re正则模块</h2><h3 id="匹配规则">匹配规则</h3><table><thead><tr><th>模式</th><th>描述</th></tr></thead><tbody><tr><td>\w</td><td>匹配字母、数字及下划线</td></tr><tr><td>\W</td><td>匹配不是字母、数字及下划线的字符</td></tr><tr><td>\s</td><td>匹配任意空白字符，等价于[\t\n\r\f]</td></tr><tr><td>\S</td><td>匹配任意非空白字符</td></tr><tr><td>\d</td><td>匹配任意数字，等价于[0-9]</td></tr><tr><td>\D</td><td>匹配任意非数字的字符</td></tr><tr><td>\A</td><td>匹配字符串开头</td></tr><tr><td>\Z</td><td>匹配字符串结尾，如果存在换行，只匹配到换行前的结束字符串</td></tr><tr><td>\z</td><td>匹配字符串结尾，如果存在换行，同时还会匹配换行符</td></tr><tr><td>\G</td><td>匹配最后完成匹配时的位置</td></tr><tr><td>\n</td><td>匹配一个换行符</td></tr><tr><td>\t</td><td>匹配一个制表符</td></tr><tr><td>^</td><td>匹配一行字符串的开头</td></tr><tr><td>$</td><td>匹配一行字符串的结尾</td></tr><tr><td>.</td><td>匹配任意字符，除了换行符，当.re.DOTALL标记被指定时，则可以匹配包括换行符的任意字符</td></tr><tr><td>[…]</td><td>用来表示一组字符，单独列出，比如[amk]匹配a、m或k</td></tr><tr><td>[^…]</td><td>不在[]中的字符，比如[^abc]匹配除了a、b、c之外的字符</td></tr><tr><td>*</td><td>匹配0个或多个表达式</td></tr><tr><td>+</td><td>匹配1个或多个表达式</td></tr><tr><td>?</td><td>匹配0个或1个前面的正则表达式定义的片段，非贪婪方式</td></tr><tr><td>{n}</td><td>精准匹配n个前面的表达式</td></tr><tr><td>{n,m}</td><td>精准匹配n到m次由前面正则表达式定义的片段，贪婪方式</td></tr><tr><td>a|b</td><td>匹配a或b</td></tr><tr><td>()</td><td>匹配括号内的表达式，也表示一个组</td></tr></tbody></table><h3 id="match">match</h3><p>re.match 尝试从字符串的起始位置匹配一个模式，如果不是起始位置匹配成功的话，match()就返回None。re.match(pattern, string, flags=0)</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
 
<span class="n">line</span> <span class="o">=</span> <span class="s">"Cats are smarter than dogs"</span>
<span class="n">matchObj</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span> <span class="sa">r</span><span class="s">'(.*) are (.*?) .*'</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">M</span><span class="o">|</span><span class="n">re</span><span class="p">.</span><span class="n">I</span><span class="p">)</span> <span class="c1">#re.M多行匹配模式 re.I 忽略大小写 ()表示分组
</span><span class="k">print</span><span class="p">(</span><span class="n">matchObj</span><span class="p">.</span><span class="n">group</span><span class="p">())</span> <span class="c1"># 全匹配
</span><span class="k">print</span><span class="p">(</span><span class="n">matchObj</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># 返回第一个分组
</span><span class="k">print</span><span class="p">(</span><span class="n">matchObj</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># 返回第一个分组
</span><span class="k">print</span><span class="p">(</span><span class="n">matchObj</span><span class="p">.</span><span class="n">groups</span><span class="p">())</span>  <span class="c1"># 返回所有分组
</span></code></pre></div></div><p>输出</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Cats are smarter than dogs
Cats
smarter
('Cats', 'smarter')
</code></pre></div></div><h3 id="search">search</h3><p>re.search 扫描整个字符串并返回第一个成功的匹配。re.search(pattern, string, flags=0)</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
 
<span class="n">line</span> <span class="o">=</span> <span class="s">"Cats are smarter than dogs"</span>
 
<span class="n">matchObj</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span> <span class="sa">r</span><span class="s">'dogs'</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">M</span><span class="o">|</span><span class="n">re</span><span class="p">.</span><span class="n">I</span><span class="p">)</span>
<span class="k">if</span> <span class="n">matchObj</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">"match --&gt; matchObj.group() : "</span><span class="p">,</span> <span class="n">matchObj</span><span class="p">.</span><span class="n">group</span><span class="p">())</span>
<span class="k">else</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">"No match!!"</span><span class="p">)</span>
 
<span class="n">matchObj</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span> <span class="sa">r</span><span class="s">'dogs'</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">M</span><span class="o">|</span><span class="n">re</span><span class="p">.</span><span class="n">I</span><span class="p">)</span>
<span class="k">if</span> <span class="n">matchObj</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">"search --&gt; searchObj.group() : "</span><span class="p">,</span> <span class="n">matchObj</span><span class="p">.</span><span class="n">group</span><span class="p">())</span>
<span class="k">else</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">"No match!!"</span><span class="p">)</span>
</code></pre></div></div><p>输出</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>No match!!
search <span class="nt">--</span><span class="o">&gt;</span> searchObj.group<span class="o">()</span> :  dogs
</code></pre></div></div><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">s</span> <span class="o">=</span> <span class="s">'1102231990xxxxxxxx'</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s">'(?P&lt;province&gt;\d{3})(?P&lt;city&gt;\d{3})(?P&lt;born_year&gt;\d{4})'</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">groupdict</span><span class="p">())</span>
</code></pre></div></div><p>输出</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="s">'province'</span><span class="p">:</span> <span class="s">'110'</span><span class="p">,</span> <span class="s">'city'</span><span class="p">:</span> <span class="s">'223'</span><span class="p">,</span> <span class="s">'born_year'</span><span class="p">:</span> <span class="s">'1990'</span><span class="p">}</span>
</code></pre></div></div><h3 id="compile">compile</h3><p>re.compile用于预编译正则表达式对象，以便在后面的匹配中复用。语法格式 re.compile(pattern[, flags])</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">pattern</span><span class="o">=</span><span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">'d{2}'</span><span class="p">,</span><span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
</code></pre></div></div><h3 id="findall">findall</h3><p>re.findall在字符串中找到正则表达式所匹配的所有子串，并返回一个列表，如果没有找到匹配的，则返回空列表。</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">'\d+'</span><span class="p">,</span><span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s">'runoob 123 google 456'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre></div></div><p>输出</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="s">'123'</span><span class="p">,</span> <span class="s">'456'</span><span class="p">]</span>
</code></pre></div></div><h3 id="sub">sub</h3><p>re.sub用于替换修改文本</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">content</span><span class="o">=</span><span class="s">'988sudhfi8893'</span>
<span class="n">content</span><span class="o">=</span><span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'\d+'</span><span class="p">,</span><span class="s">''</span><span class="p">,</span><span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</code></pre></div></div><p>输出</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sudhfi</span>
</code></pre></div></div><div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"><h3>文档信息</h3><ul><li>本文作者：<a href="https://onefeng.github.io" target="_blank">onefeng</a></li><li>本文链接：<a href="https://onefeng.github.io/wiki/python/" target="_blank">https://onefeng.github.io/wiki/python/</a></li><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li></ul></div></article><div class="comment"><div id="gitalk-container"></div><link rel="stylesheet" href="https://onefeng.github.io/assets/vendor/gitalk/gitalk.css"> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <script> var gitalk = new Gitalk({ id: '/wiki/python/', clientID: '32093df0544328cd07f4', clientSecret: '293fe7853fd4a12eb266c11cf02b775908525ce3', repo: 'onefeng.github.io', owner: 'onefeng', admin: ['onefeng'], labels: ['gitment'], perPage: 50, }); gitalk.render('gitalk-container'); </script></div></div><div class="column one-fourth"><h3>搜索</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder=""></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://onefeng.github.io/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: '/assets/search_data.json?v=1669606151', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: '没有搜索到...', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script><h3 class="post-directory-title mobile-hidden">内容</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://onefeng.github.io/assets/js/jquery.toc.js"></script></div></div></section><footer class="container"><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2020 <span title="onefeng">onefeng</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="https://github.com/onefeng/onefeng.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="https://onefeng.github.io/" title="首页" target="">首页</a></li><li> <a href="https://onefeng.github.io/tags/" title="标签" target="">标签</a></li><li> <a href="https://onefeng.github.io/categories/" title="分类" target="">分类</a></li><li> <a href="https://onefeng.github.io/archives/" title="归档" target="">归档</a></li><li> <a href="https://onefeng.github.io/wiki/" title="维基" target="">维基</a></li><li> <a href="https://onefeng.github.io/about/" title="关于" target="">关于</a></li><li><a href="https://onefeng.github.io/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a></div><script src="https://onefeng.github.io/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script> <script src="https://cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js"></script> <script> $(document).ready(function() { $("p img").each(function() { var strA = "<a data-fancybox='gallery' ref='gallery1' href='" + this.src + "'></a>"; $(this).wrapAll(strA); }); $('[data-fancybox="gallery"]').fancybox(); }); </script></body></html>
